<template>
        <div class="search-box">
        <div class="serach-form">
            <div class="closebtn">
                <span></span>
                <span></span>
            </div>
            <form action="#">
                <input type="text" placeholder="Search by keyword">
                <button><i class="fa fa-search"></i></button>
            </form>
        </div> <!-- serach form -->
    </div>
    <section id="slider-part" class="slider-active">
        <div class="single-slider bg_cover pt-150" style="background-image: url(../../../assets/images/slider/s-1.jpg)" data-overlay="4">
            <div class="container">
                <div class="row">
                    <div class="col-xl-7 col-lg-9">
                        <div class="slider-cont">
                            <h1 data-animation="bounceInLeft" data-delay="1s">Preserve a Beleza da Madeira</h1>
                            <p data-animation="fadeInUp" data-delay="1.3s">Participe de projetos ambientais na nossa ilha e ajude a proteger as belezas naturais da Madeira. Seu envolvimento é crucial para manter nossa terra vibrante e saudável.</p>
                            <ul>
                                <li><router-link data-animation="fadeInUp" data-delay="1.6s" class="main-btn" to="/about">Mais Sobre</router-link></li>
                            <li><router-link data-animation="fadeInUp" data-delay="1.9s" class="main-btn main-btn-2" to="/sigin">Comece já!</router-link></li>                            </ul>
                        </div>
                    </div>
                </div> <!-- row -->
            </div> <!-- container -->
        </div> <!-- single slider -->
        
        <div class="single-slider bg_cover pt-150" style="background-image: url(../../../assets/images/slider/s-2.jpg)" data-overlay="4">
            <div class="container">
                <div class="row">
                    <div class="col-xl-7 col-lg-9">
                        <div class="slider-cont">
                            <h1 data-animation="bounceInLeft" data-delay="1s">Apoie a Comunidade Madeirense</h1>
                            <p data-animation="fadeInUp" data-delay="1.3s">Contribua para a melhoria da vida dos moradores locais. Desde educação até assistência social, suas ações podem trazer um impacto positivo duradouro na comunidade da Madeira.</p>
                            <ul>
                                <li><router-link data-animation="fadeInUp" data-delay="1.6s" class="main-btn" to="/about">Mais Sobre</router-link></li>
                            <li><router-link data-animation="fadeInUp" data-delay="1.9s" class="main-btn main-btn-2" to="/sigin">Comece já!</router-link></li>                            </ul>
                        </div>
                    </div>
                </div> <!-- row -->
            </div> <!-- container -->
        </div> <!-- single slider -->
        
        <div class="single-slider bg_cover pt-150" style="background-image: url(../../../assets/images/slider/s-3.jpg)" data-overlay="4">
            <div class="container">
                <div class="row">
                    <div class="col-xl-7 col-lg-9">
                        <div class="slider-cont">
                            <h1 data-animation="bounceInLeft" data-delay="1s">Cultura e Tradição Vivas</h1>
                            <p data-animation="fadeInUp" data-delay="1.3s">Voluntarie-se em eventos culturais e ajude a preservar e promover a rica herança da Madeira. Seu apoio é vital para manter nossas tradições e festividades vivas.</p>
                            <ul>
                                <li><router-link data-animation="fadeInUp" data-delay="1.6s" class="main-btn" to="/about">Mais Sobre</router-link></li>
                            <li><router-link data-animation="fadeInUp" data-delay="1.9s" class="main-btn main-btn-2" to="/sigin">Comece já!</router-link></li>                            </ul>
                        </div>
                    </div>
                </div> <!-- row -->
            </div> <!-- container -->
        </div> <!-- single slider -->
    </section>  
    <section id="category-part">
        <div class="container">
            <div class="category pt-40 pb-80">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="category-text pt-40">
                            <h2>A Melhor Plataforma para Fazer a Diferença</h2>
                        </div>
                    </div>
                    <div class="col-lg-6 offset-lg-1 col-md-8 offset-md-2 col-sm-8 offset-sm-2 col-8 offset-2">
                        <div class="row category-slied mt-40">
                            <div class="col-lg-4">
                                <a href="#">
                                    <span class="singel-category text-center color-1">
                                        <span class="icon">
                                            <img src="../../../assets/images/all-icon/ctg-1.png" alt="Icon">
                                        </span>
                                        <span class="cont">
                                            <span>Solidariedade</span>
                                        </span>
                                    </span> <!-- singel category -->
                                </a>
                            </div>
                            <div class="col-lg-4">
                                <a href="#">
                                    <span class="singel-category text-center color-2">
                                        <span class="icon">
                                            <img src="../../../assets/images/all-icon/ctg-2.png" alt="Icon">
                                        </span>
                                        <span class="cont">
                                            <span>Colaboração</span>
                                        </span>
                                    </span> <!-- singel category -->
                                </a>
                            </div>
                            <div class="col-lg-4">
                                <a href="#">
                                    <span class="singel-category text-center color-3">
                                        <span class="icon">
                                            <img src="../../../assets/images/all-icon/ctg-3.png" alt="Icon">
                                        </span>
                                        <span class="cont">
                                            <span>Intervenção</span>
                                        </span>
                                    </span> <!-- singel category -->
                                </a>
                            </div>
                            <div class="col-lg-4">
                                <a href="#">
                                    <span class="singel-category text-center color-1">
                                        <span class="icon">
                                            <img src="../../../assets/images/all-icon/ctg-1.png" alt="Icon">
                                        </span>
                                        <span class="cont">
                                            <span>Suporte</span>
                                        </span>
                                    </span> <!-- singel category -->
                                </a>
                            </div>
                            <div class="col-lg-4">
                                <a href="#">
                                    <span class="singel-category text-center color-2">
                                        <span class="icon">
                                            <img src="../../../assets/images/all-icon/ctg-2.png" alt="Icon">
                                        </span>
                                        <span class="cont">
                                            <span>Proteção</span>
                                        </span>
                                    </span> <!-- singel category -->
                                </a>
                            </div>
                            <div class="col-lg-4">
                                <a href="#">
                                    <span class="singel-category text-center color-3">
                                        <span class="icon">
                                            <img src="../../../assets/images/all-icon/ctg-3.png" alt="Icon">
                                        </span>
                                        <span class="cont">
                                            <span>Amparo</span>
                                        </span>
                                    </span> <!-- singel category -->
                                </a>
                            </div>
                        </div> <!-- category slied -->
                    </div>
                </div> <!-- row -->
            </div> <!-- category -->
        </div> <!-- container -->
    </section>
    <section id="about-part" class="pt-65 d-flex justify-content-center align-items-center">
    <div class="container">
        <div class="col-lg-5 mx-auto">
            <div class="section-title mt-50">
                <h5>Sobre Nós</h5>
                <h2>Bem Vindo ao Voluntário Madeira</h2>
            </div> <!-- section title -->
            <div class="about-cont">
                <p>Conheça mais sobre nossa missão e valores. Descubra como estamos fazendo a diferença na comunidade da Ilha da Madeira e como você pode se envolver. Juntos, podemos criar um impacto positivo.</p>
                <router-link to="/about" class="main-btn mt-55">Saiba Mais</router-link>
            </div>
        </div>
    </div> <!-- container -->
</section>
   
      <div id="patnar-logo" class="pt-40 pb-80 gray-bg">
        <div class="container">
            <div class="row patnar-slied">
                <div class="col-lg-2">
                    <div class="singel-patnar text-center mt-40">
                        <img src="../../../assets/images/patnar-logo/p-1.png" alt="Logo">
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="singel-patnar text-center mt-40">
                        <img src="../../../assets/images/patnar-logo/p-3.png" alt="Logo">
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="singel-patnar text-center mt-40">
                        <img src="../../../assets/images/patnar-logo/p-3.png" alt="Logo">
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="singel-patnar text-center mt-40">
                        <img src="../../../assets/images/patnar-logo/p-1.png" alt="Logo">
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="singel-patnar text-center mt-40">
                        <img src="../../../assets/images/patnar-logo/p-1.png" alt="Logo">
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="singel-patnar text-center mt-40">
                        <img src="../../../assets/images/patnar-logo/p-3.png" alt="Logo">
                    </div>
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </div>
        
   
</template>
<script setup>
import { ref } from 'vue';
import { getAuth, onAuthStateChanged } from "firebase/auth";
import { useRouter } from 'vue-router';
import { getFirestore, collection, getDocs } from 'firebase/firestore';

const db = getFirestore();
const isLoggedIn = ref(false);
const isAdministrator = ref(false);
const events = ref([]);

const auth = getAuth();
onAuthStateChanged(auth, (user) => {
    if (user) {
        isLoggedIn.value = true;
        isAdministrator.value = user.email === 'adm@adm.com';
    } else {
        isLoggedIn.value = false;
        isAdministrator.value = false;
    }
});

const fetchEvents = async () => {
  const eventCollection = collection(db, 'events');
  const eventSnapshot = await getDocs(eventCollection);
  events.value = eventSnapshot.docs.map(doc => doc.data());
};

fetchEvents();

const router = useRouter();

const goToManageEventsPage = () => {
  router.push('/event');
};

</script>